import{L as S}from"./Layout.bbd8c550.js";import{r as m,c as g,o as I,a as s,b as u,d as f,w as r,e as v,f as c,g as l,F as L,h as U,u as j,i as p,j as h,t as d}from"./index.b127c03b.js";import{f as D}from"./index.bc9575af.js";const J=c("h2",{class:"display-2"},[p("\u5316\u77F3\u5011 "),c("span",{class:"sp-font"},"Fossils")],-1),P=p(" \u8ACB\u901A\u77E5\u7DB2\u7AD9\u7BA1\u7406\u54E1 "),W={key:1,class:"card-list flex layout gutter--xl"},$={class:"flex search-list"},q={class:"row"},A=p(" Image not found! :( "),G={class:"subtitle"},H={class:"subtitle"},K={class:"page"},Y={__name:"FossilsView",setup(O){const _=m({isError:!1,errorMsg:""}),t=m({value:"none",list:[],result:g(()=>t.value==="none"?t.list:[...t.list].sort((a,i)=>t.value==="asc"?a.price-i.price:i.price-a.price))}),o=m({current:1,pageSize:20,total:g(()=>t.result.length)}),b=[{label:"\u7121\u6392\u5E8F",value:"none"},{label:"\u50F9\u683C\u4F4E\u5230\u9AD8",value:"asc"},{label:"\u50F9\u683C\u9AD8\u5230\u4F4E",value:"desc"}];I(()=>{D("fossils").then(e=>{t.list=e}).catch(e=>{_.isError=!0,_.errorMsg=`${e.statusText}`,console.error(e)})});const x=e=>{const a=o.current===1?0:o.current,i=Number(a+o.pageSize);return e.slice(a,i)},V=e=>{h(),o.current=e},k=e=>{t.value=e,o.current=1};return(e,a)=>{const i=s("va-alert"),y=s("va-button-toggle"),z=s("va-progress-circle"),w=s("va-image"),C=s("va-card-title"),E=s("va-divider"),F=s("va-card-content"),T=s("va-card"),B=s("va-pagination"),M=s("va-backtop");return u(),f(S,null,{title:r(()=>[J]),default:r(()=>[_.isError?(u(),f(i,{key:0,color:"warning",title:_.errorMsg,icon:"info",class:"mb-4"},{default:r(()=>[P]),_:1},8,["title"])):(u(),v("div",W,[c("div",$,[l(y,{outline:"",size:"small",modelValue:t.value,"onUpdate:modelValue":[a[0]||(a[0]=n=>t.value=n),k],options:b,class:"mb-4"},null,8,["modelValue"])]),c("div",q,[(u(!0),v(L,null,U(x(t.result),(n,N)=>(u(),v("div",{class:"flex xs12 sm6 md4 lg3",key:N},[l(T,null,{default:r(()=>[l(w,{src:n.image_uri},{loader:r(()=>[l(z,{indeterminate:""})]),error:r(()=>[A]),_:2},1032,["src"]),l(C,{class:"card-title"},{default:r(()=>[p(d(n.name["name-TWzh"]),1)]),_:2},1024),l(F,null,{default:r(()=>[c("p",G,d(n.name["name-EUen"]),1),c("p",H,d(n.name["name-JPja"]),1),l(E),c("p",null,"\u50F9\u683C\uFF1A"+d(n.price),1)]),_:2},1024)]),_:2},1024)]))),128))]),c("div",K,[l(B,{"visible-pages":7,modelValue:o.current,"onUpdate:modelValue":[a[1]||(a[1]=n=>o.current=n),V],total:o.total,"boundary-numbers":"","page-size":o.pageSize},null,8,["modelValue","total","page-size"]),l(M,{onClick:j(h)},null,8,["onClick"])])]))]),_:1})}}};export{Y as default};
