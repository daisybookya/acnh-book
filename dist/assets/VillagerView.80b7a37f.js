import{L as F}from"./Layout.40da5206.js";import{s as y,p as I,h as L}from"./translation.6e7fee71.js";import{r as g,c as h,o as U,a as l,b as d,d as x,w as c,e as f,f as s,g as r,F as W,h as D,u as v,i as _,j as b,t as i}from"./index.b6891c17.js";import{f as J}from"./index.bc9575af.js";const P=s("h2",{class:"display-2"},[_("\u5CF6\u6C11\u5011 "),s("span",{class:"sp-font"},"Villagers")],-1),$=_(" \u8ACB\u901A\u77E5\u7DB2\u7AD9\u7BA1\u7406\u54E1 "),q={key:1,class:"card-list flex layout gutter--xl"},A={class:"search-list layout gutter--md"},G={class:"row"},H={class:"flex xs5"},K={class:"item"},Q=_(" \u641C\u5C0B\uFF1A "),R={class:"flex xs5"},X={class:"item"},Y={class:"row"},Z=_(" Image not found! :( "),ee={class:"nickname"},te={class:"page"},re={__name:"VillagerView",setup(se){const p=g({isError:!1,errorMsg:""}),a=g({value:{text:"\u5168\u90E8",value:"all"},keyword:"",list:[],result:h(()=>a.list.filter(e=>e.name["name-TWzh"].indexOf(a.keyword)>-1||e.name["name-JPja"].indexOf(a.keyword)>-1).filter(e=>a.value.value!=="all"?e.species===a.value.value:e)),opts:h(()=>{const e=[];for(const[o,u]of Object.entries(y)){const m=Object.assign({},{text:u,value:o});e.push(m)}return e.unshift({text:"\u5168\u90E8",value:"all"}),e})}),n=g({current:1,pageSize:20,total:h(()=>a.result.length)});U(()=>{J("villagers").then(e=>{a.list=e}).catch(e=>{p.isError=!0,p.errorMsg=`${e.statusText}`,console.error("villagers:",e.status,e.statusText)})});const k=e=>{a.value=e.value,n.current=1},V=e=>{a.keyword=e,n.current=1},w=e=>{const o=n.current===1?0:n.current,u=Number(o+n.pageSize);return e.slice(o,u)},z=e=>{b(),n.current=e};return(e,o)=>{const u=l("va-alert"),m=l("va-input"),T=l("va-select"),C=l("va-progress-circle"),j=l("va-image"),N=l("va-card-title"),B=l("va-card-content"),E=l("va-card"),M=l("va-pagination"),O=l("va-backtop");return d(),x(F,null,{title:c(()=>[P]),default:c(()=>[p.isError?(d(),x(u,{key:0,color:"warning",title:p.errorMsg,icon:"info",class:"mb-4"},{default:c(()=>[$]),_:1},8,["title"])):(d(),f("div",q,[s("div",A,[s("div",G,[s("div",H,[s("div",K,[Q,r(m,{class:"flex mb-2 md3",placeholder:"\u540D\u7A31\u95DC\u9375\u5B57\u641C\u5C0B...",modelValue:a.keyword,"onUpdate:modelValue":o[0]||(o[0]=t=>a.keyword=t),onChange:V},null,8,["modelValue"])])]),s("div",R,[s("div",X,[r(T,{class:"mb-4",label:"\u7A2E\u65CF","onUpdate:modelValue":[k,o[1]||(o[1]=t=>a.value=t)],modelValue:a.value,options:a.opts},null,8,["modelValue","options"])])])])]),s("div",Y,[(d(!0),f(W,null,D(w(a.result),(t,S)=>(d(),f("div",{class:"flex sm6 md4 lg3",key:S},[r(E,null,{default:c(()=>[r(j,{src:t.image_uri},{loader:c(()=>[r(C,{indeterminate:""})]),error:c(()=>[Z]),_:2},1032,["src"]),r(N,{class:"card-title"},{default:c(()=>[_(i(t.name["name-TWzh"])+" ",1),s("p",ee,i(t.name["name-JPja"]),1)]),_:2},1024),r(B,null,{default:c(()=>[s("p",null," \u751F\u65E5\uFF1A"+i(t.birthday)+" ("+i(t.gender==="Female"?"\u5973":"\u7537")+") ",1),s("p",null,"\u7A2E\u65CF\uFF1A"+i(v(y)[t.species]||t.species),1),s("p",null,"\u500B\u6027\uFF1A"+i(v(I)[t.personality]||t.personality),1),s("p",null,"\u8208\u8DA3\uFF1A"+i(v(L)[t.hobby]||t.hobby),1),s("p",null,"\u53E3\u982D\u79AA\uFF1A"+i(t["catch-translations"]["catch-TWzh"]),1)]),_:2},1024)]),_:2},1024)]))),128))]),s("div",te,[r(M,{"visible-pages":7,modelValue:n.current,"onUpdate:modelValue":[o[2]||(o[2]=t=>n.current=t),z],total:n.total,"boundary-numbers":"","page-size":n.pageSize},null,8,["modelValue","total","page-size"]),r(O,{onClick:v(b)},null,8,["onClick"])])]))]),_:1})}}};export{re as default};
